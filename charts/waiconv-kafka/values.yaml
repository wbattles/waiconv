replicaCount: 1

image:
  repository: ghcr.io/wbattles/waiconv
  pullPolicy: Always
  tag: latest

service:
  type: ClusterIP
  port: 8000

ingress:
  enabled: false
  className: ""
  pathType: Prefix
  annotations: {}
  hosts:
    - host: waiconv.local
      paths:
        - path: /
          pathType: Prefix

resources: {}
  # requests:
  #   memory: "128Mi"
  #   cpu: "100m"
  # limits:
  #   memory: "256Mi"
  #   cpu: "500m"

redis:
  enabled: true
  image:
    repository: redis
    tag: "7-alpine"
  service:
    port: 6379
  persistence:
    enabled: false
  resources: {}
    # requests:
    #   memory: "64Mi"
    #   cpu: "50m"
    # limits:
    #   memory: "128Mi"
    #   cpu: "200m"

postgres:
  enabled: true
  image:
    repository: postgres
    tag: "15-alpine"
  service:
    port: 5432
  database: chat
  user: chat
  password: "password"
  existingSecret: ""
  createSecret: true
  persistentVolumeClaim:
    enabled: true
    accessModes:
      - ReadWriteOnce
    size: 1Gi
    storageClassName: ""
  resources: {}
    # requests:
    #   memory: "128Mi"
    #   cpu: "100m"
    # limits:
    #   memory: "256Mi"
    #   cpu: "500m"

config:
  redis:
    host: "" 
    port: "6379"
    db: "0"
    key: "chat:messages"
  kafka:
    enabled: true
    # Bootstrap servers for Kafka cluster
    bootstrapServers: ""
    topic: "chat-messages"
    groupId: "chat-consumers"
    partitionKey: "messages"
    
    # SASL Authentication (set to true for Confluent Cloud or secured Kafka)
    saslEnabled: false
    
    # Security protocol options:
    # - PLAINTEXT: No encryption, no authentication
    # - SSL: Encryption only
    # - SASL_PLAINTEXT: Authentication without encryption
    # - SASL_SSL: Authentication with encryption (required for Confluent Cloud)
    securityProtocol: "PLAINTEXT"
    
    # SASL mechanism options:
    # - PLAIN: Username/password (most common for Confluent Cloud)
    # - SCRAM-SHA-256: SCRAM authentication
    # - SCRAM-SHA-512: SCRAM authentication
    # - OAUTHBEARER: OAuth 2.0 authentication
    saslMechanism: "PLAIN"
    
    # SASL credentials (only used when saslEnabled is true)
    saslUsername: ""
    saslPassword: ""
  postgres:
    host: ""
  maxMessages: 10
